<% if @user.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@user.errors.count, "error") %> Prevented Sign Up:</h2>

    <ul>
      <% @user.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= semantic_form_for @user do |f| %>
    <%= f.inputs do %>
      <%= f.input :first_name, :label => 'First Name' %>
      <%= f.input :last_name, :label => 'Last Name' %>
      <%= f.input :username, :label => 'New Username' %>
      <%= f.input :email, :as => :email, :label => 'Email Address' %>
      <%= f.input :password, :as => :password, :label => 'New Password' %>
      <%= f.input :role, :as => :select, :collection => User::ROLES, :label => 'Role' %>

    <% end %>
    <%= f.actions do %>
      <%= f.action :submit, :as => :button, :label => 'Update' %>
    <% end %>
<% end %>
